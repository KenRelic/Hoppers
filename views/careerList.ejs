<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <!-- Font awesome -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">


  <title>Careers</title>
  <link rel="stylesheet" href="/css/careerList.css">
  <link rel="stylesheet" href="/css/careerListMediaQ.css">
  <link rel="icon" href="/images/careerListimages/favicon.ico">

</head>

<body>
  <!----------           Header Section            --------->
  <header id="header-section">
    <div class="container-fluid">

      <nav class="nav">
        <div class="back-btn-div">
          <li class="header-back-btn"><a class="back-link white" href="/"><i
                class="back-icon fa fa-arrow-left"></i><span>Back</span></a></li>
          <li><a href="#" class="question-icon"><i class=" fa fa-question-circle-o"></i></a></li>
        </div>

        <div class="flex-ul">
          <ul>
            <li><a href="/company">Company</a> </li>
            <li><a href="/people">People <span class="span-line"></span></a> </li>
            <li><a href="#">Support <i class="fa fa-level-up"></i></a> </li>
            <li><a href="/cta-modal" class="border-link">Send app to your phone</a></li>
          </ul>
        </div>

        <div>
          <a href="javascript:void(0);" class="nav-icon" onclick="mobileMenu()">
            <i class="fa fa-bars"></i>
            <i class="fa fa-close"></i>
          </a>
        </div>
        <img src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593029065/Team-Mars/Vector_6_po9mnf.png" alt=""
          class="hopper-logo">

      </nav>

      <h1 class="header-text white">We are looking for curious problem solvers. Sounds familiar?</h1>
    </div>

    <!--------     Filters Section   ----------->

    <div class="container  query-section" style="z-index:1000; margin-top: 140px; height: fit-content;">
      <div id="query-wrapper" class="row justify-content-around p-2 mb-4 shadow bg-white align-items-center rounded-lg"
        style="padding: 2em !important;">
        <form action="/career" method="get" class="row justify-content-around align-items-center"
          class="query-form" name="query-form">

          <div class="col-12 col-md-4 col-lg-3 mb-4 mb-lg-0">
            <div class="input-group mr-sm-2 mb-lg-0 position-relative">
              <div class="w-100 h-100"><span class="label">Position</span></div>
              <input type="text" name="position" class="form-control rounded-lg query-input" id="position-input-el"
                placeholder="Search Position" value="<%= queryObj.position == undefined?  '' : queryObj.position%>">
              <div class="input-group-prepend">
                <div class="input-group-text bg-transparent border-0"><i class="fa fa-search" id="pos-serach-btn"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-4 col-lg-3 mb-4 mb-lg-0">
            <div class="input-group  mr-sm-2 mb-lg-0 position-relative">
              <div class="w-100 h-100"><span class="label">Department</span></div>
              <input type="text" name="department" class="form-control rounded-lg query-input" id="dept-input-el"
                placeholder="Department" value="<%= queryObj.department == undefined?  '' : queryObj.department%>">
              <div class="filter-options" id="dept-options">
                <ul>
                  <li>All departments</li>
                  <% departments.forEach((dept)=>{ %>
                  <li><%= dept %></li>
                  <% }) %>
                </ul>
              </div>
              <div class="input-group-prepend">
                <div class="input-group-text bg-transparent border-0"><i class="fa fa-caret-down toggle-option-list-btn"
                    id="dept-dropdown-btn"></i></div>
              </div>

            </div>

          </div>

          <div class="col-12 col-md-4 col-lg-3 mb-4 mb-lg-0">
            <div class="input-group mr-sm-2 mb-lg-0 position-relative">
              <div class="w-100 h-100"><span class="label">Location</span></div>
              <input type="text" name="location" class="form-control rounded-lg query-input" id="location-input-el"
                placeholder="Location" value="<%= queryObj.location == undefined?  '' : queryObj.location%>">
              <div class="filter-options" id="city-options">
                <ul>
                  <li>All locations</li>
                  <% locations.forEach((location)=>{ %>
                  <li><%= location %></li>
                  <% }) %>
                </ul>
              </div>
              <div class="input-group-prepend">
                <div class="input-group-text bg-transparent border-0"><i class="fa fa-caret-down toggle-option-list-btn"
                    id="city-dropdown-btn"></i></div>
              </div>

            </div>
          </div>
          <div class="filters-item col-12 col-lg-3 mt-2 text-center">
            <p class="filters-NOborder-btn text-center"><%= jobs.length %> available position(s)</p>
          </div>
        </form>
      </div>
    </div>
  </header>


  <!------- Desktop Table section ----------->

  <div id="desktop-table">
    <div class="container ">
      <!-- <div class="table-responsive-md table-scroll"> -->
      <table class="table table-container">
        <thead>
          <tr>
            <th scope="col">Position</th>
            <th scope="col">Department</th>
            <th scope="col">Cities</th>
          </tr>
        </thead>
        <tbody>
          <% jobs.forEach((job)=>{ %>
          <tr class="job-row">
            <form action="/post" method="POST" class="row">
              <td class="table-job-title" scope="col"><a
                  href="/career-details/<%= job.position %>---<%= job._id %>"><%= job.position %></a></td>
              <td><%= job.department %></td>
              <td class="city-table-data"><span><%= job.location %></span> <a
                  href="/career-details/<%= job.position %>---<%= job._id %>"><i
                    class="fa fa-arrow-right text-right position-absolute apply-job-arrow " data-toggle="tooltip"
                    data-placement="top" title="Apply"></i></a></td>
            </form>
          </tr>

          <% }) %>

        </tbody>
      </table>
    </div>
  </div>


  <!-- </div> -->
  </div>
  <!------- mobile Table section ----------->
  <div class="mobile-table">
    <div class="test">
      <% jobs.forEach((job)=>{ %>
      <h4><a href="/career-details/<%= job.position %>---<%= job._id %>"><%= job.position %> </a></h4>
      <p> <%= job.department %>, <%= job.location %></p>

      <% }) %>

    </div>
  </div>




  <!------- Perks Section  ----------->

  <!-- desktop setion -->
  <div class="container desktop-view">
    <div class="row">
      <div class="col-lg-4 col-md-6 dktop-perks">
        <img class="dktop-view"
          src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028994/Team-Mars/Stay_healthy_illo_fxk5gu.jpg"
          alt="Stay healthy">
        <h4>Stay Healthy</h4>
        <p>Full medical, dental, and vision benefits. Life insurance. Long and short-term disability plans. All on us.
        </p>
      </div>
      <div class="col-lg-4 col-md-6 dktop-perks">
        <img class="dktop-view"
          src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028966/Team-Mars/Get_paid_illo_hpbbcx.jpg"
          alt="Get paid">
        <h4>Get Paid</h4>
        <p>Competitive salary. Company stock options. Commuter benefits. 401(k) retirement savings plan. </p>
      </div>
      <div class="col-lg-4 col-md-6 dktop-perks">
        <img class="dktop-view"
          src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028998/Team-Mars/Take_off_illo_el9to9.jpg"
          alt="Take off">
        <h4>Take Off</h4>
        <p>Flexible work schedule and vacation plan. Emergency travel assistance. Travel insurance. IATA card.</p>
      </div>
    </div>
  </div>

  <!-- mobile section -->
  <div class="mobile-view">
    <div class="mobile-perks">
      <img src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028944/Team-Mars/Vector_1_f67xhk.png" alt=""
        class="mobile-img">
      <h4>We take food seriously</h4>
      <p>Catered lunches, Montreal bagels, kombucha on tap, craft beer, endless snacks, espresso machine</p>
    </div>
    <div class="mobile-perks">
      <img src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028944/Team-Mars/Vector_2_jsozpx.png" alt=""
        class="mobile-img">
      <h4>Learn something new</h4>
      <p>At-work French classes, book clubs, board game nights, forensic Fridays, lunchtime debates, table time</p>
    </div>
    <div class="mobile-perks">
      <img src="https://res.cloudinary.com/dw4rdnuqh/image/upload/v1593028945/Team-Mars/Vector_3_ozgkyp.png" alt=""
        class="mobile-img">
      <h4>Be Yourself</h4>
      <p>Casual work environment, loft-like workspaces, slack channels for every interest group</p>
    </div>

    <!-- <img src="/images/careerListIMG/Vector (5).png" alt="" class="mobile-view-logo"> -->
  </div>


  <!-- footer section -->
  <div class="footer">
    <div class="container">
      <div class="footer-mobile">
        <div class="logo title">
          <img src="/icons/logo - Copy.svg" alt="" />
        </div>
        <div class="footer-mobile-options">
          <div class="option-container">
            <div class="hooper">
              <div>
                <p>Hooper</p>
                <p class="notification"></p>
              </div>
              <p class="plus-btn">+</p>
            </div>
            <div class="hide">
              <a href="#">The app</a>
              <a href="#">Feature</a>
              <a href="#">Deals</a>
              <a href="#">Privacy policy</a>
              <a href="#">Terms of service</a>
            </div>
          </div>
          <div class="option-container">
            <div class="company">
              <div>
                <p>Company</p>
                <p class="notification"></p>
              </div>
              <p class="plus-btn">+</p>
            </div>
            <div class="hide">
              <a href="#">About</a>
              <a href="#">The data</a>
              <a href="#">Investors</a>
              <a href="#">Locations</a>
              <a href="#">Departments</a>
            </div>
          </div>
          <div class="option-container">
            <div class="people">
              <div>
                <p>People</p>
                <p class="notification"></p>
              </div>
              <p class="options plus-btn">+</p>
            </div>
            <div class="hide">
              <a href="#">Mission</a>
              <a href="#">Lifestyle</a>
              <a href="#">Values</a>
              <a href="#">Humans</a>
              <a href="/career">Careers</a>
            </div>
          </div>
          <div class="option-container">
            <div class="support">
              <div>
                <p>Support</p>
                <p class="notification"></p>
              </div>

              <p class="options plus-btn">+</p>
            </div>
            <div class="hide">
              <a href="#">Flights</a>
              <a href="#">Hotels</a>
              <a href="#">Predictions</a>
              <a href="#">Account</a>
              <a href="#">Contact us</a>
            </div>
          </div>
          <div class="option-container">
            <div class="media">
              <p>Media</p>
              <p class="notification"></p>
              <p class="options plus-btn">+</p>
            </div>
            <div class="hide">
              <a href="#">Home</a>
              <a href="#">Press kit</a>
              <a href="#">Research</a>
              <a href="#">Contact</a>
              <a href="#">Search</a>
            </div>
          </div>
        </div>
        <div class="language">
          <select name="language" id="language">
            <option value="" placeholder>Language</option>
            <option value="english">English</option>
            <option value="french">French</option>
          </select>
        </div>
        <div class="social">
          <a href="#"><img src="/icons/Facebook (1).svg" alt="" /></a>
          <a href="#"><img src="/icons/Twitter (1).svg" alt="" /></a>
          <a href="#"><img src="/icons/Instagram (3).svg" alt="" /></a>
          <a href="#"><img src="/icons/LinkedIn.svg" alt="" /></a>
          <a href="#"><img src="/icons/Youtube.svg" alt="" /></a>
          <a href="#"><img src="/icons/Medium (1).svg" alt="" /></a>
        </div>

        <hr />
        <div class="footer-bottom">
          <p>&copy 2018 Hopper Inc.</p>
        </div>
      </div>
      <div class="footer-large">
        <div class="footer-large-first">
          <div class="logo left">
            <img src="/icons/Vector1.svg" alt="" />
          </div>
          <div class="option-title right">
            <div class="option">
              <h4 class="selected"><a href="#">Hooper</a></h4>
            </div>
            <div class="option">
              <h4><a href="#">Company</a></h4>
            </div>
            <div class="option">
              <h4><a href="#">People</a></h4>
            </div>
            <div class="option">
              <h4><a href="#">Support <img src="/icons/Vector.svg" alt="" /></a></h4>
            </div>
            <div class="option">
              <h4><a href="#">Media <img src="/icons/Vector.svg" alt="" /></a></h4>
            </div>
          </div>
          <div class="footer-large-second">
            <div class="language left">
              <img src="/icons/web.svg" alt="" />
              <select name="language" id="language">
                <option value="english">English</option>
                <option value="french">French</option>
              </select>
            </div>
            <div class="options right">
              <div class="hooper">
                <a href="#">The app</a>
                <a href="#">Feature</a>
                <a href="#">Deals</a>
                <a href="#">Privacy policy</a>
                <a href="#">Terms of service</a>
              </div>
              <div class="company">
                <a href="#">About</a>
                <a href="#">The data</a>
                <a href="#">Investors</a>
                <a href="#">Locations</a>
                <a href="#">Departments</a>
              </div>
              <div class="people">
                <a href="#">Mission</a>
                <a href="#">Lifestyle</a>
                <a href="#">Values</a>
                <a href="#">Humans</a>
                <a href="/career">Careers</a>
              </div>
              <div class="support">
                <a href="#">Flights</a>
                <a href="#">Hotels</a>
                <a href="#">Predictions</a>
                <a href="#">Account</a>
                <a href="#">Contact us</a>
              </div>
              <div class="media">
                <a href="#">Home</a>
                <a href="#">Press kit</a>
                <a href="#">Research</a>
                <a href="#">Contact</a>
                <a href="#">Search</a>
              </div>
            </div>
          </div>
          <div class="footer-large-social">
            <a href="#"><img src="/icons/Facebook (2)n0border.svg" alt="" /></a>
            <a href="#"><img src="/icons/Twitter (1)-n0border.svg" alt="" /></a>
            <a href="#"><img src="/icons/Instagram (3)n0border.svg" alt="" /></a>
            <a href="#"><img src="/icons/LinkedInn0border.svg" alt="" /></a>
            <a href="#"><img src="/icons/Youtuben0border.svg" alt="" /></a>
            <a href="#"><img src="/icons/Medium (1)n0border.svg" alt="" /></a>
          </div>
        </div>
        <hr />
      </div>
    </div>
  </div>

  <script src="/js/careerList.js"></script>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
  </script>
  <script>
    $(document).ready(function () {
      $('[data-toggle="tooltip"]').tooltip();
    });


    // GLOBAL VARIABLES --------------------------------------------------------------------------------------------//
  
    let localStorage = window.localStorage;


   
    // TOGGLE OPTION LIST
    let closeOptionListBtns = document.querySelectorAll('.toggle-option-list-btn');
    closeOptionListBtns.forEach((btn) => {
      btn.addEventListener('click', dropOptionList);
    })

    function dropOptionList() {
      // get the option list of the click btn//
      let optionList = this.parentElement.parentElement.previousElementSibling;
      optionList.style.display = "block";
      return closeOptionListBtns.forEach((btn) => {
        btn.removeEventListener('click', dropOptionList);
        btn.addEventListener('click', closeOptionList);
      })
    }

    function closeOptionList() {
      // get the option list of the click btn//
      let optionList = this.parentElement.parentElement.previousElementSibling;
      optionList.style.display = "none";
      return closeOptionListBtns.forEach((btn) => {
        btn.removeEventListener('click', closeOptionList);
        btn.addEventListener('click', dropOptionList);
      })
    }

    window.onclick = function(event){      
      let x = event.target;
      if(x.className !== 'fa fa-caret-down toggle-option-list-btn'){
        closeOptionListBtns[0].parentElement.parentElement.previousElementSibling.style.display = 'none';
      closeOptionListBtns[1].parentElement.parentElement.previousElementSibling.style.display = 'none';
      }
    }

    // close option list and pass the OPTION VALUE INTO THE INPUT BOX-----------------------------
    const deptInputBox = document.getElementById('');
    const cityInputBox = document.getElementById('');
    const positionInputBox = document.getElementById('');
    let optionValues = document.querySelectorAll('.filter-options ul li');
    optionValues.forEach(option => {
      option.addEventListener('click', insertSelectedOptionIntoInputBox);
    })

    function insertSelectedOptionIntoInputBox() {
      if (this.innerText === "All locations") {
        this.parentElement.parentElement.previousElementSibling.value = "";
        queryDBOnClick(this)
      } else if (this.innerText === "All departments") {
        this.parentElement.parentElement.previousElementSibling.value = "";
        queryDBOnClick(this)
      } else {
        this.parentElement.parentElement.previousElementSibling.value = this.innerText;
        queryDBOnClick(this)
      }

      return this.parentElement.parentElement.style.display = "none";
    }

    let queryInputBoxes = document.querySelectorAll('.query-input');
    queryInputBoxes.forEach(inputBox => {
      inputBox.addEventListener('keyup', queryDBOnKeyUp)
    })

    function queryDBOnClick(e) {
      setTimeout(() => {
        document.forms['query-form'].submit();

      }, 200)
    }

    function queryDBOnKeyUp() {
      setTimeout(() => {
        document.forms['query-form'].submit();
      }, 1000)
    }

  </script>
</body>

</html>